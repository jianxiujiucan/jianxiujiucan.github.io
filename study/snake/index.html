<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>snake</title>
  <style>
    :root {
      --width: 500px;
      --size: 20px;
    }

    .box {
      position: relative;
      margin: 0 auto;
      width: var(--width);
      height: var(--width);
      border: solid 1px #ccc;
      box-sizing: border-box;
      overflow: hidden;
    }

    .cover {
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      display: none;
      justify-content: center;
      align-items: center;
      color: #fff;
      font-size: 16px;
      background: rgba(0, 0, 0, .5);
    }

    .canvas {
      width: var(--width);
      height: var(--width);
      box-sizing: border-box;
      background: repeating-linear-gradient(transparent 0 calc(var(--size) - 1px), #ccc var(--size)), repeating-linear-gradient(to right, transparent 0 calc(var(--size) - 1px), #ccc var(--size));
    }

    .operate {
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 12px 0 0;
    }

    button {
      margin: 0 6px;
      width: 70px;
      height: 26px;
      color: #fff;
      background: #69f;
      border-radius: 4px;
      border: 0;
      outline: 0;
      cursor: pointer;
    }

    button.is-disabled {
      background: #ccc;
      cursor: not-allowed;
    }

    p {
      margin-right: 10px;
    }
  </style>
</head>

<body>
  <div class="box">
    <canvas id="canvas" class="canvas"></canvas>
    <div id="cover" class="cover"></div>
  </div>
  <div class="operate">
    <p class="score">分数: <span id="score">0</span></p>
    <button id="buttonStart">开始</button>
    <button id="buttonTodo" class="is-disabled">暂停</button>
  </div>
  <script src="js/snake.js"></script>
  <script>
    let snake = new Snake();
    const buttonStart = document.getElementById('buttonStart')
    const buttonTodo = document.getElementById('buttonTodo')
    buttonStart.addEventListener('click', function () {
      snake.render();
      this.innerHTML = '重新开始'
      buttonTodo.classList.remove('is-disabled')
    })
    buttonTodo.addEventListener('click', function () {
      snake.pause()
      if (!snake.isPause && !snake.isOver) {
        this.innerHTML = '暂停'
      } else {
        this.innerHTML = '继续'
      }
      if (snake.isOver) {
        buttonTodo.classList.add('is-disabled')
      }
    })


  </script>
</body>

</html>