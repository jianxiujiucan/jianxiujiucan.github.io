<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <title>混合模式</title>
    <link rel="stylesheet" href="css/mix.css">
  </head>
  <body style="display: flex; justify-content: center; align-items: center; height: 100vh;">
    <div class="wrap">
      <div class="opt-box">
        <ul>
          <li>
            <label>混合模式：</label
            ><select id="selDrop" class="sel-drop">
              <option value="0">正常</option>
              <option value="1">滤色</option>
              <option value="2">变暗</option>
              <option value="3">正片叠底</option>
              <option value="4">变亮</option>
              <option value="5">颜色减淡</option>
              <option value="6">颜色加深</option>
              <option value="7">叠加</option>
              <option value="8">强光</option>
              <option value="9">柔光</option>
              <option value="10">差值</option>
              <option value="11">排除</option>
              <option value="12">色相</option>
              <option value="13">饱和度</option>
              <option value="14">颜色</option>
              <option value="15">亮度</option>
              <option value="16">初始</option>
              <option value="17">复原</option>
            </select>
          </li>
        </ul>
      </div>
      <div class="box box1"></div>
    </div>
  </body>
  <script type="text/javascript">
    var $btnPic = document.getElementById("btnPic");

    // $btnPic.onchange = function () {
    //   preImg(this.id, "imgPre");
    // };

    var $selDrop = document.getElementById("selDrop");
    $selDrop.onchange = function () {
      var index = this.selectedIndex;
      var value = parseInt(this.options[index].value);
      console.log(value);
      switch (value) {
        case 0:
          document.querySelector(".box1").style.mixBlendMode = "normal";
          break;
        case 1:
          document.querySelector(".box1").style.mixBlendMode = "screen";
          break;
        case 2:
          document.querySelector(".box1").style.mixBlendMode = "darken";
          break;
        case 3:
          document.querySelector(".box1").style.mixBlendMode = "multiliply";
          break;
        case 4:
          document.querySelector(".box1").style.mixBlendMode = "lighten";
          break;
        case 5:
          document.querySelector(".box1").style.mixBlendMode = "color-dodge";
          break;
        case 6:
          document.querySelector(".box1").style.mixBlendMode = "color-burn";
          break;
        case 7:
          document.querySelector(".box1").style.mixBlendMode = "overlay";
          break;
        case 8:
          document.querySelector(".box1").style.mixBlendMode = "hard-light";
          break;
        case 9:
          document.querySelector(".box1").style.mixBlendMode = "soft-light";
          break;
        case 10:
          document.querySelector(".box1").style.mixBlendMode = "difference";
          break;
        case 11:
          document.querySelector(".box1").style.mixBlendMode = "exclusion";
          break;
        case 12:
          document.querySelector(".box1").style.mixBlendMode = "hue";
          break;
        case 13:
          document.querySelector(".box1").style.mixBlendMode = "saturation";
          break;
        case 14:
          document.querySelector(".box1").style.mixBlendMode = "color";
          break;
        case 15:
          document.querySelector(".box1").style.mixBlendMode = "luminosity";
          break;
        case 16:
          document.querySelector(".box1").style.mixBlendMode = "initial";
          break;
        case 17:
          document.querySelector(".box1").style.mixBlendMode = " unset";
          break;
      }
    };

    function preImg(sourceId, targetId) {
      var url = getFileUrl(sourceId);
      var imgPre = document.getElementById(targetId);
			imgPre.src = url;
			console.log(url, imgPre)
    }

    function getFileUrl(sourceId) {
      var url;
      if (navigator.userAgent.indexOf("MSIE") >= 1) {
        // IE
        url = document.getElementById(sourceId).value;
      } else if (navigator.userAgent.indexOf("Firefox") > 0) {
        // Firefox
        url = window.URL.createObjectURL(
          document.getElementById(sourceId).files.item(0)
        );
      } else if (navigator.userAgent.indexOf("Chrome") > 0) {
        // Chrome
        url = window.URL.createObjectURL(
          document.getElementById(sourceId).files.item(0)
        );
      }
      return url;
    }
  </script>
</html>
